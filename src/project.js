require=function c(i,a,s){function l(e,t){if(!a[e]){if(!i[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var r=a[e]={exports:{}};i[e][0].call(r.exports,function(t){return l(i[e][1][t]||t)},r,r.exports,c,i,a,s)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({CameraFollow:[function(t,e,o){"use strict";cc._RF.push(e,"c6cb0RqLUFHorKoc1YaFyDz","CameraFollow"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,c=n.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t}return __extends(t,e),t.prototype.onLoad=function(){this._camera=this.getComponent(cc.Camera),this.node.position=this._targetPos()},t.prototype.lateUpdate=function(){var t=this._targetPos();this.node.y=t.y},t.prototype._targetPos=function(){return this.target.convertToWorldSpaceAR(cc.Vec2.ZERO)},__decorate([c(cc.Node)],t.prototype,"target",void 0),t=__decorate([r],t)}(cc.Component);o.default=i,cc._RF.pop()},{}],Config:[function(t,e,o){"use strict";cc._RF.push(e,"a6aea7CUG1OxrNEUkwnfgJt","Config"),cc.director.getPhysicsManager().enabled=!0,cc._RF.pop()},{}],Extensions:[function(t,e,o){"use strict";cc._RF.push(e,"bc111moTihF/pGZdHpeTl/k","Extensions"),Array.prototype.randOne=function(){return this[Math.floor(this.length*Math.random())]},cc.Node.prototype.getWorldPosition=function(){return this.parent.convertToWorldSpaceAR(this.getPosition())},cc.Node.prototype.lookAt=function(t){var e=cc.pToAngle(t.sub(this.getWorldPosition()));this.rotation=180*-e/Math.PI},cc.Node.prototype.getAttr=function(t){return this[t]},cc.isDebug=function(){return cc.game.config.debugMode===cc.DebugMode.INFO},cc.hasScene=function(t){for(var e=0,o=cc.game.config.scenes;e<o.length;e++){if(o[e].url.endsWith(t+".fire"))return!0}return!1},cc.Graphics.prototype.dashedLine=function(t,e,o,n){void 0===o&&(o=10),void 0===n&&(n=20);var r=t,c=0,i=e.sub(t);if(!(i.mag()<10))for(var a=i.normalize();0<(e.x-r.x)*a.x&&0<(e.y-r.y)*a.y;)c%2==0?(this.moveTo(r.x,r.y),r=r.add(a.mul(o))):(this.lineTo(r.x,r.y),r=r.add(a.mul(n))),c++},cc._RF.pop()},{}],FBService:[function(t,e,o){"use strict";cc._RF.push(e,"a7c60OMFIpKrYnccLRAJ290","FBService"),Object.defineProperty(o,"__esModule",{value:!0});var n={level:1,life:5,usedHearts:[],lastLifeTime:null},r=!1,c=null,i=function(){function t(){}return t.FBInstant=function(t){this.isFB()&&t(FBInstant)},t.isFB=function(){return"undefined"!=typeof FBInstant},t.setScore=function(e){if(this.isFB())return FBInstant.getLeaderboardAsync("Global Leaderboard").then(function(t){return t.setScoreAsync(e)}).then(function(t){return{rank:t.getRank(),score:t.getScore()}});var t=cc.sys.localStorage.getItem("personalBest");return(!t||t<e)&&(t=e),cc.sys.localStorage.setItem("personalBest",t),Promise.resolve({rank:null,score:t})},t.getScore=function(){if(this.isFB())return FBInstant.getLeaderboardAsync("Global Leaderboard").then(function(t){return t.getPlayerEntryAsync()}).then(function(t){return t?{rank:t.getRank(),score:t.getScore()}:null});var t=cc.sys.localStorage.getItem("personalBest");return t?Promise.resolve({rank:null,score:t}):Promise.resolve(null)},t.getData=function(){var e=this;if(r)return Promise.resolve(n);if(r=!0,!this.isFB()){var t=cc.sys.localStorage.getItem("gameData");return t?Object.assign(n,JSON.parse(t)):this.setData(n),Promise.resolve(n)}return FBInstant.player.getDataAsync(Object.keys(n)).then(function(t){return t?Object.assign(n,t):e.setData(n),n})},t.setData=function(t){return Object.assign(n,t),this.isFB()?FBInstant.player.setDataAsync(n):(cc.sys.localStorage.setItem("gameData",JSON.stringify(n)),Promise.resolve())},t.preloadAd=function(){if(this.isFB()){var e=null;return FBInstant.getRewardedVideoAsync("1386176524819862_1386193644818150").then(function(t){return e=t,c.loadAsync()}).then(function(){c=e})}},t.canShowAd=function(){return null!==c},t.showAd=function(){return c?c.showAsync().then(function(){return c=null}):Promise.reject(new Error("No AdInstance"))},t}();o.default=i,cc._RF.pop()},{}],HUDCanvas:[function(t,e,o){"use strict";cc._RF.push(e,"19066ZvUIlIE42Wydp+uMzO","HUDCanvas"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Rocket"),r=cc._decorator,c=r.ccclass,i=r.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rocket=null,t.score=null,t.helper=null,t.objects=null,t}return __extends(t,e),t.prototype.onLoad=function(){var o=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){o._touchStart=cc.v2(t.getLocation())}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var e=cc.v2(t.getLocation());o.rocket.applyForce(e.sub(o._touchStart))}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){o._touchStart=null,o.rocket.applyForce(cc.Vec2.ZERO)})},t.prototype.update=function(t){this.score.string=Math.floor(.01*this.rocket.getWorldPosition().y).toString()+"km"},__decorate([i(n.default)],t.prototype,"rocket",void 0),__decorate([i(cc.Label)],t.prototype,"score",void 0),__decorate([i(cc.Graphics)],t.prototype,"helper",void 0),__decorate([i(cc.Node)],t.prototype,"objects",void 0),t=__decorate([c],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./Rocket":"Rocket"}],Rocket:[function(t,e,o){"use strict";cc._RF.push(e,"3fbf7Ki02xF07oc71iASeL9","Rocket"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,c=n.property,i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._applyForce=0,t._count=0,t._ovalColors=["#EC644B","#F1C40F","#F62459","#22A7F0","#87D37C","#F89406","#BFBFBF"],t.ovalPrefab=null,t.objects=null,t.fire=null,t.ovals=[],t}return __extends(t,e),t.prototype.applyForce=function(t){this._force=t},t.prototype.getWorldPosition=function(){return this._body.getWorldPosition(null)},t.prototype.onBeginContact=function(t,e,o){cc.director.loadScene("Main")},t.prototype.onLoad=function(){this._body=this.getComponent(cc.RigidBody),this._body.enabledContactListener=!0,this._ovalPool=new cc.NodePool;for(var t=0;t<5;t++)this._ovalPool.put(cc.instantiate(this.ovalPrefab))},t.prototype.update=function(t){var e=this;this._force&&(this._body.angularVelocity=cc.clampf(5*this._force.x,-135,135)),Math.abs(this._body.angularVelocity)<.1?this.fire.opacity=255:this.fire.opacity=cc.clampf(.95*this.fire.opacity,50,255),this._body.linearVelocity=this._body.getWorldPoint(cc.v2(0,750),null).sub(this._body.getWorldPosition(null));var o=this.node.width*this.node.scale*.5;if((this.node.x+o>=cc.winSize.width&&0<this.node.rotation||this.node.x-o<=0&&this.node.rotation<0)&&(this.node.rotation+=.1*(0-this.node.rotation),0<this._body.angularVelocity*this.node.rotation&&(this._body.angularVelocity=0),this._body.linearVelocity=cc.v2(0,this._body.linearVelocity.y)),Math.floor(this.node.y/1e3)>=this._count){this._count++;var n=this._ovalPool.get();n||(n=cc.instantiate(this.ovalPrefab)),n.scale=cc.clampf(2*Math.random(),.5,2);var r=n.scale*this.node.width/2;n.position=cc.v2(this.node.x+(Math.random()-.5)*cc.winSize.width,cc.clampf(1e3*(Math.random()+this._count),1e3*this._count+r,1e3*(this._count+1)-r)),n.parent=this.objects,n.getComponent(cc.Sprite).spriteFrame=this.ovals.randOne(),n.color=cc.hexToColor(this._ovalColors.randOne())}this.objects.children.forEach(function(t){t.y<=e.node.y-cc.winSize.height&&e._ovalPool.put(t)})},__decorate([c(cc.Prefab)],t.prototype,"ovalPrefab",void 0),__decorate([c(cc.Node)],t.prototype,"objects",void 0),__decorate([c(cc.Node)],t.prototype,"fire",void 0),__decorate([c([cc.SpriteFrame])],t.prototype,"ovals",void 0),t=__decorate([r],t)}(cc.Component);o.default=i,cc._RF.pop()},{}]},{},["CameraFollow","Config","Extensions","FBService","HUDCanvas","Rocket"]);